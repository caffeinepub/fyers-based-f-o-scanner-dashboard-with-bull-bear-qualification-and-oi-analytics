{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-07T21:00:13.501Z",
  "summary": "Frontend adds an Index Performance card with a table and sorting logic, plus a React Query hook to call a new backend method. However, the backend diff shown does not include the required new query method implementation, and the frontend UI does not guarantee rendering one row per required index when data is missing/unavailable.",
  "missing_requirements": [
    {
      "id": "REQ-12",
      "requirement": "Implement backend support to provide index performance (% change) data for the Dashboard index list via a new access-controlled query method, returning entries with name and numeric % change, and returning explicit missing/empty values per index when fetch fails.",
      "reason": "The provided backend diff excerpt does not show any new query method such as getIndexPerformance, nor logic to fetch/produce index % change entries, nor the required access-control pattern for that method. The frontend hook explicitly anticipates the method might not exist.",
      "evidence": [
        "backend/main.mo (truncated; no getIndexPerformance shown)",
        "frontend/src/hooks/useIndexPerformance.ts (checks for getIndexPerformance and returns [] if missing)"
      ]
    },
    {
      "id": "REQ-11",
      "requirement": "The Index Performance section displays one row per index from the provided list (even if an index's performance is unavailable).",
      "reason": "The component renders rows only from the backend-provided array. If data is empty or missing, it shows 'No index data available.' rather than rendering the full required index list with 'Unavailable' values.",
      "evidence": [
        "frontend/src/components/dashboard/IndexPerformanceSnapshot.tsx (renders rows from sortedData only; shows empty-state when sortedData.length === 0)",
        "frontend/src/hooks/useIndexPerformance.ts (returns [] on missing method/error)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Adds UI embellishments and behavior not requested: trending up/down icons, 'Real-time performance' description text, and automatic refetch every minute.",
      "reason": "REQ-11 only asks for an Index Performance section with rows, names, % change, sorted descending, and English labelsâ€”no iconography, 'real-time' labeling, or periodic refresh behavior was specified.",
      "evidence": [
        "frontend/src/components/dashboard/IndexPerformanceSnapshot.tsx (TrendingUp/TrendingDown icons; CardDescription text)",
        "frontend/src/hooks/useIndexPerformance.ts (refetchInterval: 60000)"
      ]
    }
  ],
  "confidence": 0.74,
  "changed_files": [
    "backend/main.mo",
    "frontend-file-summaries.txt",
    "frontend/src/components/dashboard/IndexPerformanceSnapshot.tsx",
    "frontend/src/hooks/useIndexPerformance.ts",
    "frontend/src/pages/Dashboard.tsx",
    "project_state.json"
  ]
}